2025-12-30 00:00:08.167 -03:00 [INF] Starting BMPTec API...
2025-12-30 00:00:10.336 -03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-12-30 00:00:10.402 -03:00 [WRN] No store type was specified for the decimal property 'Saldo' on entity type 'Conta'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-30 00:00:10.406 -03:00 [WRN] No store type was specified for the decimal property 'Taxa' on entity type 'Transferencia'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-30 00:00:10.407 -03:00 [WRN] No store type was specified for the decimal property 'Valor' on entity type 'Transferencia'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-30 00:00:11.197 -03:00 [INF] BMPTec API started successfully
2025-12-30 00:01:31.469 -03:00 [WRN] Failed to determine the https port for redirect.
2025-12-30 00:01:31.792 -03:00 [INF] Recebida requisição para criar conta para Guilherme
2025-12-30 00:01:31.795 -03:00 [INF] Iniciando criação de conta para CPF: 131.643.709-46
2025-12-30 00:01:32.874 -03:00 [INF] Cliente já cadastrado com CPF: 131.643.709-46
2025-12-30 00:01:33.443 -03:00 [INF] Conta criada com sucesso: 001009-0
2025-12-30 00:01:56.786 -03:00 [INF] Conta criada com sucesso: 001009-0
2025-12-30 00:02:58.721 -03:00 [INF] Recebida requisição para criar conta para Guilherme
2025-12-30 00:02:58.722 -03:00 [INF] Iniciando criação de conta para CPF: 131.643.709-46
2025-12-30 00:02:58.798 -03:00 [INF] Cliente já cadastrado com CPF: 131.643.709-46
2025-12-30 00:02:58.878 -03:00 [ERR] Erro ao criar conta para CPF: 131.643.709-46
System.ArgumentNullException: Value cannot be null. (Parameter 'contaDestino')
   at BMPTec.Domain.Entities.Transferencia..ctor(Conta contaOrigem, Conta contaDestino, Decimal valor, String descricao) in C:\dev\programacao\API-Banco-Chu\BMPTec.Domain\Entities\Transferencia.cs:line 20
   at BMPTec.Domain.Entities.Conta.Creditar(Decimal valor) in C:\dev\programacao\API-Banco-Chu\BMPTec.Domain\Entities\Conta.cs:line 58
   at BMPTec.Application.Services.ContaService.CriarContaAsync(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 81
2025-12-30 00:02:59.027 -03:00 [WRN] Erro de validação ao criar conta
System.ArgumentNullException: Value cannot be null. (Parameter 'contaDestino')
   at BMPTec.Domain.Entities.Transferencia..ctor(Conta contaOrigem, Conta contaDestino, Decimal valor, String descricao) in C:\dev\programacao\API-Banco-Chu\BMPTec.Domain\Entities\Transferencia.cs:line 20
   at BMPTec.Domain.Entities.Conta.Creditar(Decimal valor) in C:\dev\programacao\API-Banco-Chu\BMPTec.Domain\Entities\Conta.cs:line 58
   at BMPTec.Application.Services.ContaService.CriarContaAsync(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 81
   at BMPTec.API.Controllers.v1.ContasController.CriarConta(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Api\Controllers\ContasController.cs:line 42
2025-12-30 00:03:48.397 -03:00 [INF] Recebida requisição para criar conta para Guilherme
2025-12-30 00:03:59.036 -03:00 [INF] Iniciando criação de conta para CPF: 131.643.709-46
2025-12-30 00:04:20.900 -03:00 [INF] Cliente já cadastrado com CPF: 131.643.709-46
2025-12-30 00:10:33.584 -03:00 [INF] Starting BMPTec API...
2025-12-30 00:10:35.902 -03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2025-12-30 00:10:35.992 -03:00 [WRN] No store type was specified for the decimal property 'Saldo' on entity type 'Conta'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-30 00:10:35.998 -03:00 [WRN] No store type was specified for the decimal property 'Taxa' on entity type 'Transferencia'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-30 00:10:35.998 -03:00 [WRN] No store type was specified for the decimal property 'Valor' on entity type 'Transferencia'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-30 00:10:36.885 -03:00 [INF] BMPTec API started successfully
2025-12-30 00:10:48.938 -03:00 [WRN] Failed to determine the https port for redirect.
2025-12-30 00:10:49.340 -03:00 [INF] Recebida requisição para criar conta para Guilherme
2025-12-30 00:10:59.744 -03:00 [INF] Iniciando criação de conta para CPF: 131.643.709-46
2025-12-30 00:11:04.960 -03:00 [INF] Cliente já cadastrado com CPF: 131.643.709-46
2025-12-30 00:11:45.092 -03:00 [ERR] Failed executing DbCommand (41ms) [Parameters=[@p9='ffa1b90b-473e-4c6b-45c2-08de4751298c', @p10='TRF2512300311251642' (Nullable = false) (Size = 4000), @p11=NULL (Nullable = false) (Size = 4000), @p12='9861518f-3b58-4dda-1d0a-08de47512980', @p13='9861518f-3b58-4dda-1d0a-08de47512980' (Nullable = true), @p14=NULL (DbType = DateTime2), @p15='2025-12-30T03:11:24.1318154Z', @p16='Crédito em conta' (Nullable = false) (Size = 4000), @p17='2', @p18=NULL (Precision = 18) (Scale = 2) (DbType = Decimal), @p19='10000' (Precision = 18) (Scale = 2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Transferencia] ([Id], [CodigoRastreio], [ComprovanteUrl], [ContaDestinoId], [ContaOrigemId], [DataProcessamento], [DataSolicitacao], [Descricao], [Status], [Taxa], [Valor])
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
2025-12-30 00:11:45.179 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'BMPTec.Infrastructure.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ComprovanteUrl', table 'BMPTecDB_Dev.dbo.Transferencia'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:84c35050-1232-4230-8b7a-0109301a6587
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass33_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ComprovanteUrl', table 'BMPTecDB_Dev.dbo.Transferencia'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__189_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:84c35050-1232-4230-8b7a-0109301a6587
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass33_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
