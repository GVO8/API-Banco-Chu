2025-12-29 12:10:29.056 -03:00 [INF] Starting BMPTec API...
2025-12-29 12:10:32.483 -03:00 [WRN] No store type was specified for the decimal property 'Saldo' on entity type 'Conta'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-29 12:10:32.491 -03:00 [WRN] No store type was specified for the decimal property 'Taxa' on entity type 'Transferencia'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-29 12:10:32.491 -03:00 [WRN] No store type was specified for the decimal property 'Valor' on entity type 'Transferencia'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-29 12:10:32.879 -03:00 [INF] Entity Framework Core 6.0.30 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.30' with options: None
2025-12-29 12:10:35.321 -03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-29 12:10:35.431 -03:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-29 12:10:35.438 -03:00 [INF] BMPTec API started successfully
2025-12-29 12:10:35.579 -03:00 [INF] Now listening on: http://localhost:5047
2025-12-29 12:10:35.583 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-29 12:10:35.583 -03:00 [INF] Hosting environment: Development
2025-12-29 12:10:35.584 -03:00 [INF] Content root path: C:\dev\programacao\API-Banco-Chu\BMPTec.Api\
2025-12-29 12:10:43.659 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/ - -
2025-12-29 12:10:43.885 -03:00 [WRN] Failed to determine the https port for redirect.
2025-12-29 12:10:43.926 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/ - - - 404 - - 279.8512ms
2025-12-29 12:10:49.314 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/swagger/index.html - -
2025-12-29 12:10:49.510 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/swagger/index.html - - - 200 - text/html;charset=utf-8 195.6196ms
2025-12-29 12:10:49.945 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/_framework/aspnetcore-browser-refresh.js - -
2025-12-29 12:10:49.957 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/_framework/aspnetcore-browser-refresh.js - - - 200 16459 application/javascript;+charset=utf-8 12.7223ms
2025-12-29 12:10:50.212 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/swagger/v1/swagger.json - -
2025-12-29 12:10:50.493 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 280.7440ms
2025-12-29 12:11:54.725 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5047/api/v1/Contas application/json 200
2025-12-29 12:11:54.739 -03:00 [INF] CORS policy execution successful.
2025-12-29 12:11:54.747 -03:00 [INF] Executing endpoint 'BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api)'
2025-12-29 12:11:54.806 -03:00 [INF] Route matched with {action = "CriarConta", controller = "Contas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CriarConta(BMPTec.Application.DTOs.Requests.CriarContaRequest) on controller BMPTec.API.Controllers.v1.ContasController (BMPTec.Api).
2025-12-29 12:11:54.957 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-29 12:11:54.972 -03:00 [INF] Executed action BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api) in 156.9671ms
2025-12-29 12:11:54.973 -03:00 [INF] Executed endpoint 'BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api)'
2025-12-29 12:11:54.981 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5047/api/v1/Contas application/json 200 - 400 - application/problem+json;+charset=utf-8 258.3552ms
2025-12-29 12:12:08.698 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5047/api/v1/Contas application/json 199
2025-12-29 12:12:08.699 -03:00 [INF] CORS policy execution successful.
2025-12-29 12:12:08.700 -03:00 [INF] Executing endpoint 'BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api)'
2025-12-29 12:12:08.702 -03:00 [INF] Route matched with {action = "CriarConta", controller = "Contas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CriarConta(BMPTec.Application.DTOs.Requests.CriarContaRequest) on controller BMPTec.API.Controllers.v1.ContasController (BMPTec.Api).
2025-12-29 12:12:08.730 -03:00 [INF] Recebida requisição para criar conta para Guilherme
2025-12-29 12:12:08.732 -03:00 [INF] Iniciando criação de conta para CPF: 131.643.709-46
2025-12-29 12:12:08.833 -03:00 [INF] Entity Framework Core 6.0.30 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.30' with options: None
2025-12-29 12:12:09.536 -03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__cpf_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Ativo], [c].[CPF], [c].[DataNascimento], [c].[Email], [c].[Nome], [c].[Telefone]
FROM [Clientes] AS [c]
WHERE [c].[CPF] = @__cpf_0
2025-12-29 12:12:09.923 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Boolean), @p2='?' (Size = 450), @p3='?' (DbType = DateTime2), @p4='?' (Size = 450), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Clientes] ([Id], [Ativo], [CPF], [DataNascimento], [Email], [Nome], [Telefone])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-12-29 12:12:09.974 -03:00 [INF] Novo cliente criado: "394ec53f-48ca-4154-b03b-08de46eca326"
2025-12-29 12:12:10.468 -03:00 [ERR] Erro ao criar conta para CPF: 131.643.709-46
System.InvalidOperationException: The LINQ expression 'DbSet<Conta>()
    .Max(c => (long?)(long)c.Id.GetHashCode())' could not be translated. Additional information: Translation of method 'object.GetHashCode' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.<VisitMethodCall>g__CheckTranslated|15_0(ShapedQueryExpression translated, <>c__DisplayClass15_0& )
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.MaxAsync[TSource,TResult](IQueryable`1 source, Expression`1 selector, CancellationToken cancellationToken)
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GetNextFromMaxIdAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 187
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GetNextFromDatabaseAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 164
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.NextAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 58
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GerarNumeroContaAsync() in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 69
   at BMPTec.Application.Services.ContaService.GerarNumeroContaUnicoAsync() in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 118
   at BMPTec.Application.Services.ContaService.CriarContaAsync(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 68
2025-12-29 12:12:10.653 -03:00 [WRN] Operação inválida ao criar conta
System.InvalidOperationException: The LINQ expression 'DbSet<Conta>()
    .Max(c => (long?)(long)c.Id.GetHashCode())' could not be translated. Additional information: Translation of method 'object.GetHashCode' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.<VisitMethodCall>g__CheckTranslated|15_0(ShapedQueryExpression translated, <>c__DisplayClass15_0& )
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.MaxAsync[TSource,TResult](IQueryable`1 source, Expression`1 selector, CancellationToken cancellationToken)
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GetNextFromMaxIdAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 187
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GetNextFromDatabaseAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 164
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.NextAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 58
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GerarNumeroContaAsync() in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 69
   at BMPTec.Application.Services.ContaService.GerarNumeroContaUnicoAsync() in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 118
   at BMPTec.Application.Services.ContaService.CriarContaAsync(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 68
   at BMPTec.API.Controllers.v1.ContasController.CriarConta(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Api\Controllers\ContasController.cs:line 42
2025-12-29 12:12:10.669 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-29 12:12:10.675 -03:00 [INF] Executed action BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api) in 1973.2365ms
2025-12-29 12:12:10.677 -03:00 [INF] Executed endpoint 'BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api)'
2025-12-29 12:12:10.685 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5047/api/v1/Contas application/json 199 - 400 - application/problem+json;+charset=utf-8 1987.0714ms
2025-12-29 12:12:30.639 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5047/api/v1/Contas application/json 199
2025-12-29 12:12:30.639 -03:00 [INF] CORS policy execution successful.
2025-12-29 12:12:30.640 -03:00 [INF] Executing endpoint 'BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api)'
2025-12-29 12:12:30.640 -03:00 [INF] Route matched with {action = "CriarConta", controller = "Contas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CriarConta(BMPTec.Application.DTOs.Requests.CriarContaRequest) on controller BMPTec.API.Controllers.v1.ContasController (BMPTec.Api).
2025-12-29 12:12:35.890 -03:00 [INF] Recebida requisição para criar conta para Guilherme
2025-12-29 12:12:39.766 -03:00 [INF] Iniciando criação de conta para CPF: 131.643.709-46
2025-12-29 12:12:54.423 -03:00 [INF] Entity Framework Core 6.0.30 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.30' with options: None
2025-12-29 12:12:54.429 -03:00 [INF] Executed DbCommand (2ms) [Parameters=[@__cpf_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Ativo], [c].[CPF], [c].[DataNascimento], [c].[Email], [c].[Nome], [c].[Telefone]
FROM [Clientes] AS [c]
WHERE [c].[CPF] = @__cpf_0
2025-12-29 12:14:16.408 -03:00 [INF] Cliente já cadastrado com CPF: 131.643.709-46
2025-12-29 13:03:36.355 -03:00 [ERR] Erro ao criar conta para CPF: 131.643.709-46
System.InvalidOperationException: The LINQ expression 'DbSet<Conta>()
    .Max(c => (long?)(long)c.Id.GetHashCode())' could not be translated. Additional information: Translation of method 'object.GetHashCode' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.<VisitMethodCall>g__CheckTranslated|15_0(ShapedQueryExpression translated, <>c__DisplayClass15_0& )
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.MaxAsync[TSource,TResult](IQueryable`1 source, Expression`1 selector, CancellationToken cancellationToken)
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GetNextFromMaxIdAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 187
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GetNextFromDatabaseAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 164
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.NextAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 58
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GerarNumeroContaAsync() in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 69
   at BMPTec.Application.Services.ContaService.GerarNumeroContaUnicoAsync() in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 118
   at BMPTec.Application.Services.ContaService.CriarContaAsync(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 68
2025-12-29 13:03:36.636 -03:00 [WRN] Operação inválida ao criar conta
System.InvalidOperationException: The LINQ expression 'DbSet<Conta>()
    .Max(c => (long?)(long)c.Id.GetHashCode())' could not be translated. Additional information: Translation of method 'object.GetHashCode' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.<VisitMethodCall>g__CheckTranslated|15_0(ShapedQueryExpression translated, <>c__DisplayClass15_0& )
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.MaxAsync[TSource,TResult](IQueryable`1 source, Expression`1 selector, CancellationToken cancellationToken)
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GetNextFromMaxIdAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 187
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GetNextFromDatabaseAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 164
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.NextAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 58
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GerarNumeroContaAsync() in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 69
   at BMPTec.Application.Services.ContaService.GerarNumeroContaUnicoAsync() in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 118
   at BMPTec.Application.Services.ContaService.CriarContaAsync(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 68
   at BMPTec.API.Controllers.v1.ContasController.CriarConta(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Api\Controllers\ContasController.cs:line 42
2025-12-29 13:03:36.638 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-29 13:03:36.639 -03:00 [INF] Executed action BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api) in 3066134.9451ms
2025-12-29 13:03:36.639 -03:00 [INF] Executed endpoint 'BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api)'
2025-12-29 13:03:36.639 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5047/api/v1/Contas application/json 199 - 400 - application/problem+json;+charset=utf-8 3066136.9650ms
2025-12-29 13:04:16.001 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5047/api/v1/Contas application/json 199
2025-12-29 13:04:16.002 -03:00 [INF] CORS policy execution successful.
2025-12-29 13:04:16.006 -03:00 [INF] Executing endpoint 'BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api)'
2025-12-29 13:04:16.009 -03:00 [INF] Route matched with {action = "CriarConta", controller = "Contas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CriarConta(BMPTec.Application.DTOs.Requests.CriarContaRequest) on controller BMPTec.API.Controllers.v1.ContasController (BMPTec.Api).
2025-12-29 13:04:21.810 -03:00 [INF] Recebida requisição para criar conta para Guilherme
2025-12-29 13:04:25.984 -03:00 [INF] Iniciando criação de conta para CPF: 131.643.709-46
2025-12-29 13:04:26.410 -03:00 [INF] Entity Framework Core 6.0.30 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.30' with options: None
2025-12-29 13:04:26.415 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__cpf_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Ativo], [c].[CPF], [c].[DataNascimento], [c].[Email], [c].[Nome], [c].[Telefone]
FROM [Clientes] AS [c]
WHERE [c].[CPF] = @__cpf_0
2025-12-29 13:04:29.567 -03:00 [INF] Cliente já cadastrado com CPF: 131.643.709-46
2025-12-29 13:04:43.155 -03:00 [ERR] Erro ao criar conta para CPF: 131.643.709-46
System.InvalidOperationException: The LINQ expression 'DbSet<Conta>()
    .Max(c => (long?)(long)c.Id.GetHashCode())' could not be translated. Additional information: Translation of method 'object.GetHashCode' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.<VisitMethodCall>g__CheckTranslated|15_0(ShapedQueryExpression translated, <>c__DisplayClass15_0& )
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.MaxAsync[TSource,TResult](IQueryable`1 source, Expression`1 selector, CancellationToken cancellationToken)
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GetNextFromMaxIdAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 187
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GetNextFromDatabaseAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 164
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.NextAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 58
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GerarNumeroContaAsync() in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 69
   at BMPTec.Application.Services.ContaService.GerarNumeroContaUnicoAsync() in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 118
   at BMPTec.Application.Services.ContaService.CriarContaAsync(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 68
2025-12-29 13:04:43.251 -03:00 [WRN] Operação inválida ao criar conta
System.InvalidOperationException: The LINQ expression 'DbSet<Conta>()
    .Max(c => (long?)(long)c.Id.GetHashCode())' could not be translated. Additional information: Translation of method 'object.GetHashCode' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.<VisitMethodCall>g__CheckTranslated|15_0(ShapedQueryExpression translated, <>c__DisplayClass15_0& )
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.MaxAsync[TSource,TResult](IQueryable`1 source, Expression`1 selector, CancellationToken cancellationToken)
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GetNextFromMaxIdAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 187
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GetNextFromDatabaseAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 164
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.NextAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 58
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GerarNumeroContaAsync() in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 69
   at BMPTec.Application.Services.ContaService.GerarNumeroContaUnicoAsync() in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 118
   at BMPTec.Application.Services.ContaService.CriarContaAsync(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 68
   at BMPTec.API.Controllers.v1.ContasController.CriarConta(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Api\Controllers\ContasController.cs:line 42
2025-12-29 13:04:43.253 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-29 13:04:43.254 -03:00 [INF] Executed action BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api) in 27245.4711ms
2025-12-29 13:04:43.254 -03:00 [INF] Executed endpoint 'BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api)'
2025-12-29 13:04:43.254 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5047/api/v1/Contas application/json 199 - 400 - application/problem+json;+charset=utf-8 27257.7789ms
2025-12-29 13:04:49.985 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5047/api/v1/Contas application/json 199
2025-12-29 13:04:49.986 -03:00 [INF] CORS policy execution successful.
2025-12-29 13:04:49.986 -03:00 [INF] Executing endpoint 'BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api)'
2025-12-29 13:04:49.986 -03:00 [INF] Route matched with {action = "CriarConta", controller = "Contas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CriarConta(BMPTec.Application.DTOs.Requests.CriarContaRequest) on controller BMPTec.API.Controllers.v1.ContasController (BMPTec.Api).
2025-12-29 13:04:53.912 -03:00 [INF] Recebida requisição para criar conta para Guilherme
2025-12-29 13:04:56.015 -03:00 [INF] Iniciando criação de conta para CPF: 131.643.709-46
2025-12-29 13:04:56.304 -03:00 [INF] Entity Framework Core 6.0.30 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.30' with options: None
2025-12-29 13:04:56.306 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cpf_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Ativo], [c].[CPF], [c].[DataNascimento], [c].[Email], [c].[Nome], [c].[Telefone]
FROM [Clientes] AS [c]
WHERE [c].[CPF] = @__cpf_0
2025-12-29 13:04:57.927 -03:00 [INF] Cliente já cadastrado com CPF: 131.643.709-46
2025-12-29 13:13:18.363 -03:00 [INF] Starting BMPTec API...
2025-12-29 13:13:20.085 -03:00 [WRN] No store type was specified for the decimal property 'Saldo' on entity type 'Conta'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-29 13:13:20.091 -03:00 [WRN] No store type was specified for the decimal property 'Taxa' on entity type 'Transferencia'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-29 13:13:20.091 -03:00 [WRN] No store type was specified for the decimal property 'Valor' on entity type 'Transferencia'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-29 13:13:20.453 -03:00 [INF] Entity Framework Core 6.0.30 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.30' with options: None
2025-12-29 13:13:21.219 -03:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-29 13:13:21.565 -03:00 [INF] Executed DbCommand (248ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-12-29 13:13:21.582 -03:00 [INF] BMPTec API started successfully
2025-12-29 13:13:21.762 -03:00 [INF] Now listening on: http://localhost:5047
2025-12-29 13:13:21.765 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-29 13:13:21.766 -03:00 [INF] Hosting environment: Development
2025-12-29 13:13:21.766 -03:00 [INF] Content root path: C:\dev\programacao\API-Banco-Chu\BMPTec.Api\
2025-12-29 13:13:40.520 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/swagger/index.html - -
2025-12-29 13:13:40.888 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/_framework/aspnetcore-browser-refresh.js - -
2025-12-29 13:13:40.930 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/_framework/aspnetcore-browser-refresh.js - - - 200 16459 application/javascript;+charset=utf-8 41.9721ms
2025-12-29 13:13:40.930 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/swagger/index.html - - - 200 - text/html;charset=utf-8 406.7737ms
2025-12-29 13:13:41.172 -03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5047/swagger/v1/swagger.json - -
2025-12-29 13:13:41.566 -03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5047/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 394.0474ms
2025-12-29 13:13:51.716 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5047/api/v1/Contas application/json 176
2025-12-29 13:13:51.744 -03:00 [WRN] Failed to determine the https port for redirect.
2025-12-29 13:13:51.746 -03:00 [INF] CORS policy execution successful.
2025-12-29 13:13:51.758 -03:00 [INF] Executing endpoint 'BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api)'
2025-12-29 13:13:51.813 -03:00 [INF] Route matched with {action = "CriarConta", controller = "Contas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CriarConta(BMPTec.Application.DTOs.Requests.CriarContaRequest) on controller BMPTec.API.Controllers.v1.ContasController (BMPTec.Api).
2025-12-29 13:13:58.296 -03:00 [INF] Recebida requisição para criar conta para Guilherme
2025-12-29 13:13:58.300 -03:00 [INF] Iniciando criação de conta para CPF: string
2025-12-29 13:13:58.359 -03:00 [INF] Entity Framework Core 6.0.30 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.30' with options: None
2025-12-29 13:13:59.206 -03:00 [INF] Executed DbCommand (81ms) [Parameters=[@__cpf_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Ativo], [c].[CPF], [c].[DataNascimento], [c].[Email], [c].[Nome], [c].[Telefone]
FROM [Clientes] AS [c]
WHERE [c].[CPF] = @__cpf_0
2025-12-29 13:13:59.338 -03:00 [ERR] Erro ao criar conta para CPF: string
System.ArgumentException: CPF inválido (Parameter 'numero')
   at BMPTec.Domain.ValueObjects.CPF..ctor(String numero) in C:\dev\programacao\API-Banco-Chu\BMPTec.Domain\ValueObjects\CFP.cs:line 23
   at BMPTec.Application.Services.ContaService.CriarContaAsync(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 56
2025-12-29 13:13:59.492 -03:00 [WRN] Erro de validação ao criar conta
System.ArgumentException: CPF inválido (Parameter 'numero')
   at BMPTec.Domain.ValueObjects.CPF..ctor(String numero) in C:\dev\programacao\API-Banco-Chu\BMPTec.Domain\ValueObjects\CFP.cs:line 23
   at BMPTec.Application.Services.ContaService.CriarContaAsync(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 56
   at BMPTec.API.Controllers.v1.ContasController.CriarConta(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Api\Controllers\ContasController.cs:line 42
2025-12-29 13:13:59.524 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-29 13:13:59.576 -03:00 [INF] Executed action BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api) in 7747.792ms
2025-12-29 13:13:59.579 -03:00 [INF] Executed endpoint 'BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api)'
2025-12-29 13:13:59.596 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5047/api/v1/Contas application/json 176 - 400 - application/problem+json;+charset=utf-8 7880.0564ms
2025-12-29 13:14:10.078 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5047/api/v1/Contas application/json 176
2025-12-29 13:14:10.079 -03:00 [INF] CORS policy execution successful.
2025-12-29 13:14:10.102 -03:00 [INF] Executing endpoint 'BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api)'
2025-12-29 13:14:10.103 -03:00 [INF] Route matched with {action = "CriarConta", controller = "Contas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CriarConta(BMPTec.Application.DTOs.Requests.CriarContaRequest) on controller BMPTec.API.Controllers.v1.ContasController (BMPTec.Api).
2025-12-29 13:14:13.506 -03:00 [INF] Recebida requisição para criar conta para Guilherme
2025-12-29 13:14:16.416 -03:00 [INF] Iniciando criação de conta para CPF: string
2025-12-29 13:14:20.169 -03:00 [INF] Entity Framework Core 6.0.30 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.30' with options: None
2025-12-29 13:14:20.213 -03:00 [INF] Executed DbCommand (34ms) [Parameters=[@__cpf_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Ativo], [c].[CPF], [c].[DataNascimento], [c].[Email], [c].[Nome], [c].[Telefone]
FROM [Clientes] AS [c]
WHERE [c].[CPF] = @__cpf_0
2025-12-29 13:15:52.040 -03:00 [ERR] Erro ao criar conta para CPF: string
System.ArgumentException: CPF inválido (Parameter 'numero')
   at BMPTec.Domain.ValueObjects.CPF..ctor(String numero) in C:\dev\programacao\API-Banco-Chu\BMPTec.Domain\ValueObjects\CFP.cs:line 23
   at BMPTec.Application.Services.ContaService.CriarContaAsync(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 56
2025-12-29 13:15:52.299 -03:00 [WRN] Erro de validação ao criar conta
System.ArgumentException: CPF inválido (Parameter 'numero')
   at BMPTec.Domain.ValueObjects.CPF..ctor(String numero) in C:\dev\programacao\API-Banco-Chu\BMPTec.Domain\ValueObjects\CFP.cs:line 23
   at BMPTec.Application.Services.ContaService.CriarContaAsync(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 56
   at BMPTec.API.Controllers.v1.ContasController.CriarConta(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Api\Controllers\ContasController.cs:line 42
2025-12-29 13:15:52.313 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-29 13:15:52.314 -03:00 [INF] Executed action BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api) in 102213.2281ms
2025-12-29 13:15:52.314 -03:00 [INF] Executed endpoint 'BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api)'
2025-12-29 13:15:52.315 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5047/api/v1/Contas application/json 176 - 400 - application/problem+json;+charset=utf-8 102238.5980ms
2025-12-29 13:16:12.278 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5047/api/v1/Contas application/json 176
2025-12-29 13:16:12.279 -03:00 [INF] CORS policy execution successful.
2025-12-29 13:16:12.281 -03:00 [INF] Executing endpoint 'BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api)'
2025-12-29 13:16:12.281 -03:00 [INF] Route matched with {action = "CriarConta", controller = "Contas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CriarConta(BMPTec.Application.DTOs.Requests.CriarContaRequest) on controller BMPTec.API.Controllers.v1.ContasController (BMPTec.Api).
2025-12-29 13:16:16.605 -03:00 [INF] Recebida requisição para criar conta para Guilherme
2025-12-29 13:16:19.788 -03:00 [INF] Iniciando criação de conta para CPF: string
2025-12-29 13:16:20.756 -03:00 [INF] Entity Framework Core 6.0.30 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.30' with options: None
2025-12-29 13:16:20.760 -03:00 [INF] Executed DbCommand (1ms) [Parameters=[@__cpf_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Ativo], [c].[CPF], [c].[DataNascimento], [c].[Email], [c].[Nome], [c].[Telefone]
FROM [Clientes] AS [c]
WHERE [c].[CPF] = @__cpf_0
2025-12-29 13:16:26.594 -03:00 [ERR] Erro ao criar conta para CPF: string
System.ArgumentException: CPF inválido (Parameter 'numero')
   at BMPTec.Domain.ValueObjects.CPF..ctor(String numero) in C:\dev\programacao\API-Banco-Chu\BMPTec.Domain\ValueObjects\CFP.cs:line 23
   at BMPTec.Application.Services.ContaService.CriarContaAsync(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 56
2025-12-29 13:16:26.710 -03:00 [WRN] Erro de validação ao criar conta
System.ArgumentException: CPF inválido (Parameter 'numero')
   at BMPTec.Domain.ValueObjects.CPF..ctor(String numero) in C:\dev\programacao\API-Banco-Chu\BMPTec.Domain\ValueObjects\CFP.cs:line 23
   at BMPTec.Application.Services.ContaService.CriarContaAsync(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 56
   at BMPTec.API.Controllers.v1.ContasController.CriarConta(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Api\Controllers\ContasController.cs:line 42
2025-12-29 13:16:26.712 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-29 13:16:26.713 -03:00 [INF] Executed action BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api) in 14432.1189ms
2025-12-29 13:16:26.713 -03:00 [INF] Executed endpoint 'BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api)'
2025-12-29 13:16:26.713 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5047/api/v1/Contas application/json 176 - 400 - application/problem+json;+charset=utf-8 14435.6586ms
2025-12-29 13:16:29.676 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5047/api/v1/Contas application/json 176
2025-12-29 13:16:29.676 -03:00 [INF] CORS policy execution successful.
2025-12-29 13:16:29.693 -03:00 [INF] Executing endpoint 'BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api)'
2025-12-29 13:16:29.701 -03:00 [INF] Route matched with {action = "CriarConta", controller = "Contas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CriarConta(BMPTec.Application.DTOs.Requests.CriarContaRequest) on controller BMPTec.API.Controllers.v1.ContasController (BMPTec.Api).
2025-12-29 13:16:32.799 -03:00 [INF] Recebida requisição para criar conta para Guilherme
2025-12-29 13:16:35.717 -03:00 [INF] Iniciando criação de conta para CPF: string
2025-12-29 13:16:38.969 -03:00 [INF] Entity Framework Core 6.0.30 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.30' with options: None
2025-12-29 13:16:39.014 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__cpf_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Ativo], [c].[CPF], [c].[DataNascimento], [c].[Email], [c].[Nome], [c].[Telefone]
FROM [Clientes] AS [c]
WHERE [c].[CPF] = @__cpf_0
2025-12-29 13:16:48.032 -03:00 [ERR] Erro ao criar conta para CPF: string
System.ArgumentException: CPF inválido (Parameter 'numero')
   at BMPTec.Domain.ValueObjects.CPF..ctor(String numero) in C:\dev\programacao\API-Banco-Chu\BMPTec.Domain\ValueObjects\CFP.cs:line 23
   at BMPTec.Application.Services.ContaService.CriarContaAsync(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 56
2025-12-29 13:16:48.157 -03:00 [WRN] Erro de validação ao criar conta
System.ArgumentException: CPF inválido (Parameter 'numero')
   at BMPTec.Domain.ValueObjects.CPF..ctor(String numero) in C:\dev\programacao\API-Banco-Chu\BMPTec.Domain\ValueObjects\CFP.cs:line 23
   at BMPTec.Application.Services.ContaService.CriarContaAsync(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 56
   at BMPTec.API.Controllers.v1.ContasController.CriarConta(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Api\Controllers\ContasController.cs:line 42
2025-12-29 13:16:48.160 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-29 13:16:48.160 -03:00 [INF] Executed action BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api) in 18459.5114ms
2025-12-29 13:16:48.160 -03:00 [INF] Executed endpoint 'BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api)'
2025-12-29 13:16:48.161 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5047/api/v1/Contas application/json 176 - 400 - application/problem+json;+charset=utf-8 18485.2873ms
2025-12-29 13:17:18.918 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5047/api/v1/Contas application/json 199
2025-12-29 13:17:18.928 -03:00 [INF] CORS policy execution successful.
2025-12-29 13:17:18.928 -03:00 [INF] Executing endpoint 'BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api)'
2025-12-29 13:17:18.928 -03:00 [INF] Route matched with {action = "CriarConta", controller = "Contas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CriarConta(BMPTec.Application.DTOs.Requests.CriarContaRequest) on controller BMPTec.API.Controllers.v1.ContasController (BMPTec.Api).
2025-12-29 13:17:22.412 -03:00 [INF] Recebida requisição para criar conta para Guilherme
2025-12-29 13:17:22.906 -03:00 [INF] Iniciando criação de conta para CPF: 131.643.709-46
2025-12-29 13:17:22.907 -03:00 [INF] Entity Framework Core 6.0.30 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.30' with options: None
2025-12-29 13:17:22.958 -03:00 [INF] Executed DbCommand (50ms) [Parameters=[@__cpf_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Ativo], [c].[CPF], [c].[DataNascimento], [c].[Email], [c].[Nome], [c].[Telefone]
FROM [Clientes] AS [c]
WHERE [c].[CPF] = @__cpf_0
2025-12-29 13:17:23.117 -03:00 [INF] Cliente já cadastrado com CPF: 131.643.709-46
2025-12-29 13:17:29.156 -03:00 [ERR] Erro ao criar conta para CPF: 131.643.709-46
System.InvalidOperationException: The LINQ expression 'DbSet<Conta>()
    .Max(c => (long?)(long)c.Id.GetHashCode())' could not be translated. Additional information: Translation of method 'object.GetHashCode' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.<VisitMethodCall>g__CheckTranslated|15_0(ShapedQueryExpression translated, <>c__DisplayClass15_0& )
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.MaxAsync[TSource,TResult](IQueryable`1 source, Expression`1 selector, CancellationToken cancellationToken)
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GetNextFromMaxIdAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 193
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GetNextFromDatabaseAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 164
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.NextAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 58
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GerarNumeroContaAsync() in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 69
   at BMPTec.Application.Services.ContaService.GerarNumeroContaUnicoAsync() in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 118
   at BMPTec.Application.Services.ContaService.CriarContaAsync(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 68
2025-12-29 13:17:47.386 -03:00 [WRN] Operação inválida ao criar conta
System.InvalidOperationException: The LINQ expression 'DbSet<Conta>()
    .Max(c => (long?)(long)c.Id.GetHashCode())' could not be translated. Additional information: Translation of method 'object.GetHashCode' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.<VisitMethodCall>g__CheckTranslated|15_0(ShapedQueryExpression translated, <>c__DisplayClass15_0& )
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.MaxAsync[TSource,TResult](IQueryable`1 source, Expression`1 selector, CancellationToken cancellationToken)
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GetNextFromMaxIdAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 193
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GetNextFromDatabaseAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 164
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.NextAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 58
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GerarNumeroContaAsync() in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 69
   at BMPTec.Application.Services.ContaService.GerarNumeroContaUnicoAsync() in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 118
   at BMPTec.Application.Services.ContaService.CriarContaAsync(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 68
   at BMPTec.API.Controllers.v1.ContasController.CriarConta(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Api\Controllers\ContasController.cs:line 42
2025-12-29 13:17:47.461 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-29 13:17:47.461 -03:00 [INF] Executed action BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api) in 28533.3783ms
2025-12-29 13:17:47.462 -03:00 [INF] Executed endpoint 'BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api)'
2025-12-29 13:17:47.462 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5047/api/v1/Contas application/json 199 - 400 - application/problem+json;+charset=utf-8 28544.9292ms
2025-12-29 13:30:02.819 -03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5047/api/v1/Contas application/json 199
2025-12-29 13:30:02.819 -03:00 [INF] CORS policy execution successful.
2025-12-29 13:30:02.820 -03:00 [INF] Executing endpoint 'BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api)'
2025-12-29 13:30:02.820 -03:00 [INF] Route matched with {action = "CriarConta", controller = "Contas"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CriarConta(BMPTec.Application.DTOs.Requests.CriarContaRequest) on controller BMPTec.API.Controllers.v1.ContasController (BMPTec.Api).
2025-12-29 13:30:07.714 -03:00 [INF] Recebida requisição para criar conta para Guilherme
2025-12-29 13:30:07.714 -03:00 [INF] Iniciando criação de conta para CPF: 131.643.709-46
2025-12-29 13:30:07.715 -03:00 [INF] Entity Framework Core 6.0.30 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.30' with options: None
2025-12-29 13:30:08.796 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__cpf_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Ativo], [c].[CPF], [c].[DataNascimento], [c].[Email], [c].[Nome], [c].[Telefone]
FROM [Clientes] AS [c]
WHERE [c].[CPF] = @__cpf_0
2025-12-29 13:30:08.802 -03:00 [INF] Cliente já cadastrado com CPF: 131.643.709-46
2025-12-29 13:30:32.830 -03:00 [ERR] Erro ao criar conta para CPF: 131.643.709-46
System.InvalidOperationException: The LINQ expression 'DbSet<Conta>()
    .Max(c => (long?)(long)c.Id.GetHashCode())' could not be translated. Additional information: Translation of method 'object.GetHashCode' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.<VisitMethodCall>g__CheckTranslated|15_0(ShapedQueryExpression translated, <>c__DisplayClass15_0& )
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.MaxAsync[TSource,TResult](IQueryable`1 source, Expression`1 selector, CancellationToken cancellationToken)
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GetNextFromMaxIdAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 193
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GetNextFromDatabaseAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 164
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.NextAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 58
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GerarNumeroContaAsync() in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 69
   at BMPTec.Application.Services.ContaService.GerarNumeroContaUnicoAsync() in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 118
   at BMPTec.Application.Services.ContaService.CriarContaAsync(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 68
2025-12-29 13:30:32.927 -03:00 [WRN] Operação inválida ao criar conta
System.InvalidOperationException: The LINQ expression 'DbSet<Conta>()
    .Max(c => (long?)(long)c.Id.GetHashCode())' could not be translated. Additional information: Translation of method 'object.GetHashCode' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.<VisitMethodCall>g__CheckTranslated|15_0(ShapedQueryExpression translated, <>c__DisplayClass15_0& )
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.MaxAsync[TSource,TResult](IQueryable`1 source, Expression`1 selector, CancellationToken cancellationToken)
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GetNextFromMaxIdAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 193
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GetNextFromDatabaseAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 164
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.NextAsync(String sequenceName) in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 58
   at BMPTec.Infrastructure.Services.DatabaseSequenceGenerator.GerarNumeroContaAsync() in C:\dev\programacao\API-Banco-Chu\BMPTec.Infrastructure\Services\DatabaseSequenceGenerator.cs:line 69
   at BMPTec.Application.Services.ContaService.GerarNumeroContaUnicoAsync() in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 118
   at BMPTec.Application.Services.ContaService.CriarContaAsync(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Application\Services\ContaService.cs:line 68
   at BMPTec.API.Controllers.v1.ContasController.CriarConta(CriarContaRequest request) in C:\dev\programacao\API-Banco-Chu\BMPTec.Api\Controllers\ContasController.cs:line 42
2025-12-29 13:30:32.928 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-12-29 13:30:32.929 -03:00 [INF] Executed action BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api) in 30108.85ms
2025-12-29 13:30:32.929 -03:00 [INF] Executed endpoint 'BMPTec.API.Controllers.v1.ContasController.CriarConta (BMPTec.Api)'
2025-12-29 13:30:32.929 -03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5047/api/v1/Contas application/json 199 - 400 - application/problem+json;+charset=utf-8 30111.2946ms
2025-12-29 14:52:40.632 -03:00 [INF] Starting BMPTec API...
2025-12-29 14:52:43.224 -03:00 [WRN] No store type was specified for the decimal property 'Saldo' on entity type 'Conta'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-29 14:52:43.231 -03:00 [WRN] No store type was specified for the decimal property 'Taxa' on entity type 'Transferencia'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-29 14:52:43.237 -03:00 [WRN] No store type was specified for the decimal property 'Valor' on entity type 'Transferencia'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-12-29 14:53:02.194 -03:00 [FTL] Application startup failed
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 0 - No connection could be made because the target machine actively refused it.)
 ---> System.ComponentModel.Win32Exception (10061): No connection could be made because the target machine actively refused it.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean withFailover, SqlAuthenticationMethod authType)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.TryGetConnection(DbConnection owningConnection, TaskCompletionSource`1 retry, DbConnectionOptions userOptions, DbConnectionInternal oldConnection, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.Open(SqlConnectionOverrides overrides)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternal(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.<>c__DisplayClass18_0.<Exists>b__0(DateTime giveUp)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.<>c__DisplayClass12_0`2.<Execute>b__0(DbContext c, TState s)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.ExecutionStrategyExtensions.Execute[TState,TResult](IExecutionStrategy strategy, TState state, Func`2 operation, Func`2 verifySucceeded)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.Exists(Boolean retryOnNotExists)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerDatabaseCreator.Exists()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreated()
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.EnsureCreated()
   at Program.<Main>$(String[] args) in C:\dev\programacao\API-Banco-Chu\BMPTec.Api\Program.cs:line 129
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:10061,State:0,Class:20
